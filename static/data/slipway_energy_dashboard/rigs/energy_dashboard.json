{
  "rigging": {
    "givenergy": {
      "component": "jamesthurley.energy_dashboard__givenergy.1.0.0",
      "allow": [
        {
          "permission": "env",
          "prefix": "GIVENERGY_"
        },
        {
          "permission": "http",
          "prefix": "https://api.givenergy.cloud/"
        }
      ],
      "input": {}
    },
    "octopus_tariff": {
      "component": "jamesthurley.energy_dashboard__octopus_tariff.1.0.0",
      "allow": [
        {
          "permission": "env",
          "prefix": "OCTOPUS_"
        },
        {
          "permission": "http",
          "prefix": "https://api.octopus.energy/"
        }
      ],
      "input": {}
    },
    "render": {
      "component": "slipwayhq.render.0.7.0",
      "allow": [
        {
          "permission": "fonts"
        },
        {
          "permission": "registry_components"
        }
      ],
      "callouts": {
        "energy_flow_chart": {
          "component": "slipwayhq.energy_dashboard__energy_flow_chart.1.0.0",
          "allow": [
            { "permission": "fonts" },
            { "permission": "registry_components" }
          ]
        },
        "energy_graph": {
          "component": "slipwayhq.energy_dashboard__energy_graph.1.0.0",
          "allow": [
            { "permission": "fonts" },
            { "permission": "registry_components" }
          ]
        },
        "energy_lifetime": {
          "component": "slipwayhq.energy_dashboard__energy_lifetime.1.0.0",
          "allow": [
            { "permission": "fonts" },
            { "permission": "registry_components" }
          ]
        },
        "tariff_rate_graph": {
          "component": "slipwayhq.energy_dashboard__tariff_rate_graph.1.0.0",
          "allow": [
            { "permission": "fonts" },
            { "permission": "registry_components" }
          ]
        }
      },
      "input": {
        "canvas": {
          "width": 480,
          "height": 800
        },
        "card": {
          "type": "AdaptiveCard",
          "body": [
            {
              "type": "Container",
              "style": "warning",
              "bleed": true,
              "items": [
                {
                  "type": "TextBlock",
                  "size": "extraLarge",
                  "text": "Today's date here",
                  "wrap": true
                },
                {
                  "type": "TextBlock",
                  "text": "Last updated time here",
                  "wrap": true
                }
              ]
            },
            {
              "type": "Container",
              "height": "stretch",
              "items": [
                {
                  "type": "Image",
                  "height": "stretch",
                  "url": "component://energy_flow_chart?width=$width&height=$height",
                  "body": {
                    "data": "$$.givenergy.today.day"
                  }
                }
              ]
            },
            {
              "type": "Container",
              "bleed": true,
              "height": "stretch",
              "items": [
                {
                  "type": "Image",
                  "height": "stretch",
                  "url": "component://energy_graph?width=$width&height=$height",
                  "body": {
                    "power": "$$.givenergy.today.power"
                  }
                }
              ]
            },
            {
              "type": "ColumnSet",
              "columns": [
                {
                  "type": "Column",
                  "width": "stretch",
                  "items": [
                    {
                      "type": "TextBlock",
                      "size": "large",
                      "text": "Today's Rates"
                    },
                    {
                      "type": "Image",
                      "height": "100px",
                      "spacing": "small",
                      "url": "component://tariff_rate_graph?width=$width&height=$height",
                      "body": {
                        "prices": "$$.octopus_tariff.prices"
                      }
                    }
                  ]
                },
                {
                  "type": "Column",
                  "items": [
                    {
                      "type": "TextBlock",
                      "size": "large",
                      "text": "Yesterday"
                    }
                  ]
                }
              ]
            },
            {
              "type": "Image",
              "height": "40px",
              "url": "component://energy_lifetime?width=$width&height=$height",
              "body": {
                "data": "$$.givenergy.today.total"
              }
            }
          ]
        }
      }
    }
  }
}