{
  "rigging": {
    "now": {
      "component": "jamesthurley.energy_dashboard__current_time.1.0.0",
      "input": {}
    },
    "givenergy": {
      "component": "jamesthurley.energy_dashboard__givenergy.1.0.0",
      "allow": [
        {
          "permission": "env",
          "prefix": "GIVENERGY_"
        },
        {
          "permission": "http",
          "prefix": "https://api.givenergy.cloud/"
        }
      ],
      "input": {}
    },
    "octopus_tariff": {
      "component": "jamesthurley.energy_dashboard__octopus_tariff.1.0.0",
      "allow": [
        {
          "permission": "env",
          "prefix": "OCTOPUS_"
        },
        {
          "permission": "http",
          "prefix": "https://api.octopus.energy/"
        }
      ],
      "input": {}
    },
    "render": {
      "component": "slipwayhq.render.0.7.0",
      "allow": [
        {
          "permission": "fonts"
        },
        {
          "permission": "registry_components"
        }
      ],
      "callouts": {
        "energy_flow_chart": {
          "component": "slipwayhq.energy_dashboard__energy_flow_chart.1.0.0",
          "allow": [
            { "permission": "fonts" },
            { "permission": "registry_components" }
          ]
        },
        "energy_graph": {
          "component": "slipwayhq.energy_dashboard__energy_graph.1.0.0",
          "allow": [
            { "permission": "fonts" },
            { "permission": "registry_components" }
          ]
        },
        "energy_lifetime": {
          "component": "slipwayhq.energy_dashboard__energy_lifetime.1.0.0",
          "allow": [
            { "permission": "fonts" },
            { "permission": "registry_components" }
          ]
        },
        "tariff_rate_graph": {
          "component": "slipwayhq.energy_dashboard__tariff_rate_graph.1.0.0",
          "allow": [
            { "permission": "fonts" },
            { "permission": "registry_components" }
          ]
        },
        "energy_cash_flow": {
          "component": "slipwayhq.energy_dashboard__energy_cash_flow.1.0.0",
          "allow": [
            { "permission": "fonts" },
            { "permission": "registry_components" }
          ]
        }
      },
      "input": {
        "debug": false,
        "canvas": {
          "width": 480,
          "height": 800
        },
        "card": {
          "type": "AdaptiveCard",
          "body": [
            {
              "type": "Container",
              "style": "warning",
              "bleed": true,
              "items": [
                {
                  "type": "TextBlock",
                  "size": "extraLarge",
                  "text": "$$.now.formatted_date",
                  "wrap": true
                },
                {
                  "type": "TextBlock",
                  "spacing": "small",
                  "size": "medium",
                  "text": "$$.now.formatted_time",
                  "wrap": true
                }
              ]
            },
            {
              "type": "Image",
              "height": "180px",
              "spacing": "large",
              "url": "component://energy_flow_chart?width=$width&height=$height",
              "body": {
                "data": "$$.givenergy.today.day"
              }
            },
            {
              "type": "Container",
              "bleed": true,
              "spacing": "large",
              "height": "stretch",
              "items": [
                {
                  "type": "Image",
                  "height": "stretch",
                  "url": "component://energy_graph?width=$width&height=$height",
                  "body": {
                    "power": "$$.givenergy.today.power"
                  }
                }
              ]
            },
            {
              "type": "ColumnSet",
              "columns": [
                {
                  "type": "Column",
                  "width": "stretch",
                  "items": [
                    {
                      "type": "TextBlock",
                      "size": "large",
                      "text": "Today's Rates"
                    },
                    {
                      "type": "Image",
                      "height": "100px",
                      "spacing": "small",
                      "url": "component://tariff_rate_graph?width=$width&height=$height",
                      "body": {
                        "prices": "$$.octopus_tariff.today"
                      }
                    }
                  ]
                },
                {
                  "type": "Column",
                  "width": "140px",
                  "verticalContentAlignment": "top",
                  "items": [
                    {
                      "type": "TextBlock",
                      "size": "large",
                      "text": "Yesterday"
                    },
                    {
                      "type": "Image",
                      "height": "stretch",
                      "spacing": "small",
                      "url": "component://energy_cash_flow?width=$width&height=90",
                      "body": {
                        "power": "$$.givenergy.yesterday.power",
                        "day": "$$.givenergy.yesterday.day",
                        "prices": "$$.octopus_tariff.yesterday",
                        "generation_price": 25.84,
                        "theme": {
                          "line_padding": 30
                        }
                      }
                    }
                  ]
                }
              ]
            },
            {
              "type": "Image",
              "height": "40px",
              "url": "component://energy_lifetime?width=$width&height=$height",
              "body": {
                "data": "$$.givenergy.today.total"
              }
            }
          ]
        }
      }
    }
  }
}